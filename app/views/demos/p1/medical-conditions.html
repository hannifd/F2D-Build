{{<govuk_template}}

{{$head}}
  {{>includes/elements_head}}
  {{>includes/elements_scripts}}
{{/head}}

{{$propositionHeader}}
  {{>includes/propositional_navigation3}}
{{/propositionHeader}}

{{$headerClass}}with-proposition{{/headerClass}}

{{$content}}

<header class="page-header">

<script>

function next() { 
  var tokens = [];

  var more_elements = true;

  var index = 1;
  while(more_elements) {
    var element = document.getElementById('condition-'+index);
    if((element != null) && (element.options.length > 0)) {
      for(var i=0; i < element.options.length; i++) {
        if((element.options[i].selected) && (element.options[i].value.length > 0)) {
          tokens.push(element.options[i].value);
          break;
        }
      }
      index++;
    } else {
      more_elements = false;
    }
  }
 
  // Now we have our conditions, we next to progress onwarrds.
  if(tokens.length > 0) {
    window.location.href = tokens[0]+'-start?flow='+tokens[0]+'&conditions='+tokens;
  } else {
    alert('You need to select a condition from the dropdown.');
  }
}
  
</script>

</header>

<main id="page-container" role="main">

  <h1 class="form-title heading-medium">
    What medical condition are you telling DVLA about?
  </h1> 

  <form id="medical-form" class="form">
   
    <div class="form-group border-bottom" id="q1">

      <label class="form-label" for="condition">
        Medical condition</label>
        <span class="form-hint">For example, Diabetes</span>
      </label>
        
      <select class="form-control searchBox" id="condition-1" name="condition-1">
        <option value="">--- Please Select ---</option>
        <option value="diabetes">Diabetes</option>
        <option value="glaucoma">Glaucoma</option>
        <option value="epilepsy">Epilepsy</option>
        <option value="narcolepsy">Narcolepsy</option>
      </select>

      <input name="AddCondition" type="button" class="button-secondary" value="+ Add another condition" onclick="show('q2')">
          
    </div>

    <div class="grid-row "></div>

    <div class="form-group border-bottom starthidden" id="q2">

      <label class="form-label" for="condition">
        Your second medical condition</label>
      </label>
        
      <select class="form-control searchBox" id="condition-2" name="condition-2">
        <option value="">--- Please Select ---</option>
        <option value="diabetes">Diabetes</option>
        <option value="glaucoma">Glaucoma</option>
        <option value="epilepsy">Epilepsy</option>
        <option value="narcolepsy">Narcolepsy</option>
      </select>

      <input name="AddCondition" type="button" class="button-secondary" value="+ Add another condition" onclick="show('q3')">
          
    </div>

    <div class="grid-row "></div>

    <div class="form-group border-bottom starthidden" id="q3">

      <label class="form-label" for="condition">
        Your third medical condition</label>
      </label>
        
      <select class="form-control searchBox" id="condition-3" name="condition-3">
        <option value="">--- Please Select ---</option>
        <option value="diabetes">Diabetes</option>
        <option value="glaucoma">Glaucoma</option>
        <option value="epilepsy">Epilepsy</option>
        <option value="narcolepsy">Narcolepsy</option>
      </select>

      <input name="AddCondition" type="button" class="button-secondary" value="+ Add another condition" onclick="show('q4')">
          
    </div>

    <div class="grid-row "></div>

    <div class="form-group border-bottom starthidden" id="q4">

      <label class="form-label" for="condition">
        Your fourth medical condition</label>
      </label>
        
      <select class="form-control searchBox" id="condition-4" name="condition-4">
        <option value="">--- Please Select ---</option>
        <option value="diabetes">Diabetes</option>
        <option value="glaucoma">Glaucoma</option>
        <option value="epilepsy">Epilepsy</option>
        <option value="narcolepsy">Narcolepsy</option>
      </select>

      <input name="AddCondition" type="button" class="button-secondary" value="+ Add another condition" onclick="alert('Only 4 conditions supported!');">
          
    </div>

    <div class="grid-row "></div>

    <br/><br/>

    <div class="grid-row">
      <div class="column-half">
        <input id="continue" name="continue" type="button" class="button" value="Continue" onclick="next()">  
      </div>
    </div>

  </form>

</main>

{{/content}}

{{$bodyEnd}}
{{/bodyEnd}}

{{/govuk_template}}
