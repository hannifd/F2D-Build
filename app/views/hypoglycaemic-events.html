
{{<govuk_template}}

{{$head}}
  {{>includes/elements_head}}
  {{>includes/elements_scripts}}
{{/head}}

{{$propositionHeader}}
  {{>includes/propositional_navigation4}}
{{/propositionHeader}}

{{$headerClass}}with-proposition{{/headerClass}}

{{$content}}

<header class="page-header">

</header>

<main id="page-container" role="main">
  {{>includes/phase_banner}}

  <form action="medical-form" method="get" class="form inline">

    <div class="grid-row" id="q1">
      <div class="column-full">

        <h4 class="heading-large">Do you suffer from hypoglycaemic events?</h4>

        <div class="form-group" id="question">
          <legend>
            <span class="error-message" style="display: none;">
              Please select a valid option
            </span>
          </legend>
          
          <label class="block-label" for="q1-a1" id="q1-a1-label">
            <input id="q1-a1" type="radio" name="q1-answer" value="Y" onclick="">Yes
          </label>
          <label class="block-label" for="q1-a2" id="q1-a2-label">
            <input id="q1-a2" type="radio" name="q1-answer" value="N" onclick="">No
          </label>
        </div>
      </div>
    </div>
  
    <div class="form-group">
      <input id="continue" name="continue" type="button" class="button" value="Continue" onclick="validate()"> 
    </div>

  </form>

  <a class="back-to-previous" href="javascript:history.go(-1);">
    <i class="fa fa-angle-left"></i> Back <span class="visuallyhidden">to the previous question</span>
  </a> 

<script>
  
  function validate() {
      var value = $('input[name=q1-answer]:checked').val();
      
      if (value == 'Y') {
        go('review-conditions?insulin={{insulin}}&hypos=true');
      } else if (value == 'N') {
        go('review-conditions?insulin={{insulin}}&hypos=false');
      } else {
        $('#question').addClass('error');
        $('.error-message').show();
      } 
  }

  /*var data = {
    state: "",
    validate: "true",
    questions: [
      {id: "q1", type: "radio", active: "true", answers: [
          {id: "q1-a1", value: "", show: [], hide: [], decision: "1"},
          {id: "q1-a2", value: "", show: [], hide: [], decision: "2"}
        ]
      }
    ],
    decisions: [
      {id: "1", description: "Q1: Yes", message: "", redirect: "review-conditions?insulin={{insulin}}&hypos=true"},
      {id: "2", description: "Q1: No", message: "", redirect: "review-conditions?insulin={{insulin}}&hypos=false"}
    ]
  };

  initialise(data);*/

</script>

</main>

{{/content}}

{{$bodyEnd}}
{{/bodyEnd}}

{{/govuk_template}}